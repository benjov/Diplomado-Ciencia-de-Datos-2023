anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_08 <- rbind( Datos_PML_08,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML_09 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2024"
mes_ini <- "01"
dia_ini <- "22"
anio_fin <- "2024"
mes_fin <- "01"
dia_fin <- "28"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_09 <- rbind( Datos_PML_09,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML_10 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2024"
mes_ini <- "01"
dia_ini <- "29"
anio_fin <- "2024"
mes_fin <- "01"
dia_fin <- "31"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_10 <- rbind( Datos_PML_10,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML <- rbind( Datos_PML_01, Datos_PML_02, Datos_PML_03, Datos_PML_04, Datos_PML_05,
Datos_PML_06, Datos_PML_07, Datos_PML_08, Datos_PML_09, Datos_PML_10 )
Datos_PML_Wide <- Datos_PML %>% pivot_wider( names_from = Nodo,
values_from = pml  )
medias_PML <- data.frame( colMeans( Datos_PML_Wide[ , c(3:122)] ) )
Datos_PML_Wide[ , c(3:122)]
as.numeric(Datos_PML_Wide[ , c(3:122)])
lapply(Datos_PML_Wide[ , c(3:122)], as.numeric)
medias_PML <- data.frame( colMeans( lapply(Datos_PML_Wide[ , c(3:122)], as.numeric) ) )
Datos_PML_Wide[] <- lapply(Datos_PML_Wide[ , c(3:122)], as.numeric)
Datos_PML_Wide[ , c(3:122)] <- lapply(Datos_PML_Wide[ , c(3:122)], as.numeric)
Datos_PML_Wide
medias_PML <- data.frame( colMeans( Datos_PML_Wide[ , c(3:122)] ) )
View(medias_PML)
t(colMeans( Datos_PML_Wide[ , c(3:122)] ))
medias_PML <- data.frame( t(colMeans( Datos_PML_Wide[ , c(3:122)] )) )
View(medias_PML)
medias_PML <- data.frame( colMeans( t(colMeans( Datos_PML_Wide[ , c(3:122)] ) ) ) )
Datos_PML_Wide[ , c(3:122)] <- lapply(Datos_PML_Wide[ , c(3:122)], as.numeric)
medias_PML <- data.frame( colMeans( t(colMeans( Datos_PML_Wide[ , c(3:122)] ) ) ) )
datatable( medias_PML, rownames = F, options = list(ordering = T),
filter = list( position = 'top', clear = T )) %>%
formatCurrency( c(1:120), currency = "$", interval = 3, mark = ",", digits = 2)
datatable( medias_PML, rownames = F, options = list(ordering = T),
filter = list( position = 'top', clear = T )) %>%
formatCurrency( c(1), currency = "$", interval = 3, mark = ",", digits = 2)
names( Datos_PML_Wide[ , c(3:122)] )
data.frame( colMeans( colMeans( Datos_PML_Wide[ , c(3:122)] ) ) )
medias_PML <- data.frame( colMeans( Datos_PML_Wide[ , c(3:122)] ) )
View(Datos_PML_Wide)
View(medias_PML)
Datos_PML_Wide[ , c(3:122)] <- lapply(Datos_PML_Wide[ , c(3:122)], as.numeric)
medias_PML <- data.frame( colMeans( Datos_PML_Wide[ , c(3:122)] ) )
names(medias_PML)
names(medias_PML) <- c("Precio Promedio")
Datos_PML_Wide[ , c(3:122)] <- lapply(Datos_PML_Wide[ , c(3:122)], as.numeric)
medias_PML <- data.frame( colMeans( Datos_PML_Wide[ , c(3:122)] ) )
names(medias_PML) <- c("Precio Promedio")
datatable( medias_PML, rownames = T, options = list(ordering = T),
filter = list( position = 'top', clear = T )) %>%
formatCurrency( c(1), currency = "$", interval = 3, mark = ",", digits = 2)
# Creamos variable de fecha
Datos_PML$Periodo <- as.POSIXct( paste( Datos_PML$Fecha, Datos_PML$Hora, sep = " "),
format = "%Y-%m-%d %H" )
View(Datos_PML)
Datos_PML$Nodo
ggplot( Datos_PML, aes( x = Periodo, pml, color = Nodo ) ) +
geom_line() +
theme(legend.position = "none")
knitr::opts_chunk$set(echo = TRUE) # Valor predeterminado global para los encabezados de chunks
#install.packages("rmarkdown")
#library(rmarkdown)
#install.packages("plotly") # Paquetería de visualización interactiva
#install.packages("httr") # Biblioteca que tiene funciones para consulta Web
# Do you want to install from sources the package which needs compilation? (Yes/no/cancel) Y
#install.packages("jsonlite") # Para manejo de archivos JSON
#install.packages("DT") # Para manejo de tablas
library(readxl)
library(httr)
library(dplyr)
library(plotly)
library(jsonlite)
library(DT)
library(tidyr)
response <- GET( 'https://www.cenace.gob.mx/Docs/01_MECP/CatalogoNodosP/2024/Cata%CC%81logo%20NodosP%20Sistema%20Ele%CC%81ctrico%20Nacional%20(v2024-01-24)%20.xlsx' )
temp_file <- tempfile(fileext = ".xlsx")
writeBin(content(response, "raw"), temp_file)
datos <- read_excel(temp_file, sheet = 1, skip = 1)
datos <- datos %>% filter(SISTEMA == 'SIN')
set.seed(1234) # Personalizar
Datos_Nodos <- datos[ sample( nrow( datos ), 120, replace = FALSE), ]
Datos_PML_01 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2023"
mes_ini <- "12"
dia_ini <- "01"
anio_fin <- "2023"
mes_fin <- "12"
dia_fin <- "07"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_01 <- rbind( Datos_PML_01,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML_02 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2023"
mes_ini <- "12"
dia_ini <- "08"
anio_fin <- "2023"
mes_fin <- "12"
dia_fin <- "14"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_02 <- rbind( Datos_PML_02,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML_03 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2023"
mes_ini <- "12"
dia_ini <- "15"
anio_fin <- "2023"
mes_fin <- "12"
dia_fin <- "21"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_03 <- rbind( Datos_PML_03,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML_04 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2023"
mes_ini <- "12"
dia_ini <- "22"
anio_fin <- "2023"
mes_fin <- "12"
dia_fin <- "28"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_04 <- rbind( Datos_PML_04,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML_05 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2023"
mes_ini <- "12"
dia_ini <- "29"
anio_fin <- "2023"
mes_fin <- "12"
dia_fin <- "31"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_05 <- rbind( Datos_PML_05,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML_06 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2024"
mes_ini <- "01"
dia_ini <- "01"
anio_fin <- "2024"
mes_fin <- "01"
dia_fin <- "07"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_06 <- rbind( Datos_PML_06,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML_07 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2024"
mes_ini <- "01"
dia_ini <- "08"
anio_fin <- "2024"
mes_fin <- "01"
dia_fin <- "14"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_07 <- rbind( Datos_PML_07,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML_08 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2024"
mes_ini <- "01"
dia_ini <- "15"
anio_fin <- "2024"
mes_fin <- "01"
dia_fin <- "21"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_08 <- rbind( Datos_PML_08,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML_09 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2024"
mes_ini <- "01"
dia_ini <- "22"
anio_fin <- "2024"
mes_fin <- "01"
dia_fin <- "28"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_09 <- rbind( Datos_PML_09,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML_10 <- data.frame()
for( Nodo in Datos_Nodos$CLAVE ){
# Definir los parámetros de la URL
sistema <- "SIN"
proceso <- "MDA"
lista_nodos <- Nodo
anio_ini <- "2024"
mes_ini <- "01"
dia_ini <- "29"
anio_fin <- "2024"
mes_fin <- "01"
dia_fin <- "31"
formato <- "JSON"
# Construir la URL de invocación
url <- paste0("https://ws01.cenace.gob.mx:8082/SWPML/SIM/",
sistema, "/", proceso, "/", lista_nodos, "/",
anio_ini, "/", mes_ini, "/", dia_ini, "/",
anio_fin, "/", mes_fin, "/", dia_fin, "/",
formato)
# Realizar la solicitud GET al servicio web
respuesta <- GET(url)
# Convertir el JSON en un DataFrame
datos <- fromJSON(content(respuesta, "text"), flatten = TRUE)
# Convertir la lista anidada "Resultados" en un DataFrame
resultados_df <- datos$Resultados
# Utilizar lapply para extraer DataFrames contenidos en la columna 'lista_de_dataframes'
dataframes_extraidos <- lapply(resultados_df$Valores, function(x) as.data.frame(x))
# Extraemos datos y los apendizamos
Datos_PML_10 <- rbind( Datos_PML_10,
as.data.frame( cbind( Nodo = Nodo,
Fecha = dataframes_extraidos[[1]]$fecha,
Hora = dataframes_extraidos[[1]]$hora,
pml = as.numeric(dataframes_extraidos[[1]]$pml) ) ) )
}
Datos_PML <- rbind( Datos_PML_01, Datos_PML_02, Datos_PML_03, Datos_PML_04, Datos_PML_05,
Datos_PML_06, Datos_PML_07, Datos_PML_08, Datos_PML_09, Datos_PML_10 )
Datos_PML_Wide <- Datos_PML %>% pivot_wider( names_from = Nodo,
values_from = pml  )
Datos_PML_Wide[ , c(3:122)] <- lapply(Datos_PML_Wide[ , c(3:122)], as.numeric)
medias_PML <- data.frame( colMeans( Datos_PML_Wide[ , c(3:122)] ) )
names(medias_PML) <- c("Precio Promedio")
datatable( medias_PML, rownames = T, options = list(ordering = T),
filter = list( position = 'top', clear = T )) %>%
formatCurrency( c(1), currency = "$", interval = 3, mark = ",", digits = 2)
# Guardar el dataframe en un archivo CSV
write.csv(Datos_PML, "Datos_PML.csv", row.names = FALSE)
write.csv(Datos_PML_Wide, "Datos_PML_Wide.csv", row.names = FALSE)
View(Datos_PML)
View(Datos_PML_Wide)
